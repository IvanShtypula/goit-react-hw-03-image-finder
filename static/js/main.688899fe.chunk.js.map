{"version":3,"sources":["helpers/request.js","components/Spiner/Spiner.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["withCreadentials","url","process","createGalleryUrl","search","currentPage","perPage","Spiner","type","color","height","width","className","ImageGalleryItem","webformatURL","id","toggleModal","largeImageURL","addImgToModal","onClick","src","alt","data-value","Searchbar","updateSearch","updateImages","useState","setSearch","onSubmit","autoComplete","autoFocus","placeholder","onChange","value","target","name","Button","loadMore","Modal","closeOnEsc","event","code","props","handleClickOverlay","e","nodeName","window","addEventListener","this","removeEventListener","image","Component","ImageGallery","state","images","loader","error","showModal","setState","prevState","dataset","preventDefault","URL","axios","get","then","response","data","hits","catch","finally","prev","scrollPage","scrollTo","top","document","documentElement","scrollHeight","behavior","length","map","key","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.688899fe.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const withCreadentials = (url) => {\r\n  return `${url}key=${process.env.REACT_APP_KEY}`;\r\n};\r\n\r\nexport const createGalleryUrl = (search, currentPage = 1, perPage = 12) => {\r\n  return withCreadentials(\r\n    `https://pixabay.com/api/?q=${search}&page=${currentPage}&image_type=photo&orientation=horizontal&per_page=${perPage}&`\r\n  )\r\n}\r\n\r\nexport const request = async (method, url, body = null) => {\r\n  const result = await axios[method](url, body);\r\n  return result.data;\r\n};","import React from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\nimport './Spiner.css';\r\n\r\n\r\nconst Spiner = () => {\r\n  return (\r\n    <>\r\n      <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} className=\"Loader\"/>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Spiner;","import React from \"react\";\r\nimport \"./ImageGalleryItem.css\"\r\n\r\nconst ImageGalleryItem = ({webformatURL, id, toggleModal, largeImageURL, addImgToModal}) => {\r\n  return (\r\n    <li className=\"ImageGalleryItem\" onClick={toggleModal}>\r\n      <img src={webformatURL} alt=\"\" onClick={addImgToModal} className=\"ImageGalleryItem-image\" id={id} data-value={largeImageURL}/>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React, {useState} from \"react\";\r\nimport \"./Searchbar.css\";\r\n\r\n\r\nconst Searchbar = ({updateSearch, updateImages}) => {\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const inputHandler = ({target}) => {    \r\n    const {value} = target;\r\n    setSearch(value); \r\n    updateSearch(value);    \r\n  }; \r\n\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={updateImages}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={inputHandler}\r\n          name=\"search\"\r\n          value={search}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport \"./Button.css\";\r\n\r\nconst Button = ({loadMore}) => {\r\n  return (\r\n    <div>\r\n      <button className=\"Button\" onClick={loadMore}>Load more</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Button;","import React, { Component } from \"react\";\r\nimport \"./Modal.css\";\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.closeOnEsc);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.closeOnEsc);\r\n  }\r\n\r\n  closeOnEsc = (event) => {\r\n    if (event.code === \"Escape\") {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  handleClickOverlay = (e) => {\r\n     e.target.nodeName === \"DIV\" && this.props.toggleModal();\r\n  };\r\n\r\n  render() {\r\n    const image = this.props.image;    \r\n    return (\r\n      <div className=\"Overlay\" onClick={this.handleClickOverlay}>\r\n        <div className=\"Modal\">\r\n          <img src={image} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { createGalleryUrl } from \"../../helpers/request\";\r\nimport Spiner from \"../Spiner/Spiner\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem.js\";\r\nimport Searchbar from \"../Searchbar/Searchbar.js\";\r\nimport Button from \"../Button/Button.js\";\r\nimport Modal from \"../Modal/Modal.js\";\r\nimport \"./ImageGallery.css\";\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    images: [],\r\n    loader: false,\r\n    error: false,\r\n    currentPage: 1,\r\n    perPage: 12,\r\n    showModal: false,\r\n    image: \"\",\r\n    search: \"\",\r\n  }; \r\n\r\n  updateSearch = (value) => {\r\n    this.setState({\r\n      search: value,\r\n    });\r\n  };\r\n\r\n  toggleModal = (e) => {\r\n    this.setState((prevState) => ({\r\n      showModal: !prevState.showModal,\r\n    }));   \r\n  };\r\n\r\n  addImgToModal = (event) => {\r\n    const value = event.target.dataset.value;\r\n    this.setState({\r\n      image: value,\r\n    });\r\n  };\r\n\r\n  updateImages = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      loader: true,\r\n    });\r\n    const { search } = this.state;\r\n    const URL = createGalleryUrl(search);\r\n\r\n    axios\r\n      .get(URL)\r\n      .then((response) =>\r\n        this.setState({\r\n          images: response.data.hits,\r\n          currentPage: 2,\r\n        })\r\n      )\r\n      .catch((error) =>\r\n        this.setState({\r\n          error,\r\n        })\r\n      )\r\n      .finally(() =>\r\n        this.setState({\r\n          loader: false,\r\n        })\r\n      );\r\n  };\r\n\r\n  loadMore = (e) => {\r\n    e.preventDefault();\r\n    const { currentPage, perPage, search } = this.state;\r\n    const URL = createGalleryUrl(search, currentPage, perPage);\r\n\r\n    axios\r\n      .get(URL)\r\n      .then((response) => {\r\n        this.setState((prev) => ({\r\n          images: [...prev.images, ...response.data.hits],\r\n          currentPage: prev.currentPage + 1,\r\n        }));\r\n        this.scrollPage();\r\n      })\r\n      .catch((error) =>\r\n        this.setState({\r\n          error,\r\n        })\r\n      )\r\n      .finally(() =>\r\n        this.setState({\r\n          loader: false,\r\n        })\r\n      );\r\n  };\r\n\r\n  scrollPage = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      images,\r\n      loader,\r\n      error,\r\n      currentPage,\r\n      perPage,\r\n      showModal,\r\n      image,\r\n    } = this.state;\r\n    return (\r\n      <>\r\n        {showModal && <Modal toggleModal={this.toggleModal} image={image} />}\r\n        <Searchbar\r\n          currentPage={currentPage}\r\n          perPage={perPage}\r\n          updateImages={this.updateImages}\r\n          updateSearch={this.updateSearch}\r\n        />\r\n        {loader && <Spiner />}\r\n        {!loader && !error && images.length > 0 && (\r\n          <>\r\n            <ul className=\"ImageGallery\">\r\n              {images.map((image) => (\r\n                <ImageGalleryItem\r\n                  {...image}\r\n                  key={image.id}\r\n                  toggleModal={this.toggleModal}\r\n                  addImgToModal={this.addImgToModal}\r\n                />\r\n              ))}\r\n            </ul>\r\n            <Button loadMore={this.loadMore} />\r\n          </>\r\n        )}\r\n        {error && <h1>ERROR!!!</h1>}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery.js\";\n// import Modal from \"./components/Modal/Modal\";\n\nclass App extends Component {\n\n  render() {\n    \n    return (\n      <div className=\"App\">\n        <ImageGallery/>       \n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}